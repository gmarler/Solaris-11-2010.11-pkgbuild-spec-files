--- libopensync-0.20/opensync/opensync_internals.h.orig 2006-11-14 12:00:12.199601000 +0800
+++ libopensync-0.20/opensync/opensync_internals.h      2006-11-14 12:02:52.468980000 +0800
@@ -13,6 +13,10 @@
 #include <errno.h>
 extern int errno;

+#ifndef __FUNCTION__
+#define __FUNCTION__ __func__
+#endif
+
 #define osync_assert(x) if (!(x)) { fprintf(stderr, "%s:%i:E:%s: Assertion \"" #x "\" failed\n", __FILE__, __LINE__, __FUNCTION__); abort();}
 #define osync_assert_msg(x, msg) if (!(x)) { fprintf(stderr, "%s:%i:E:%s: %s\n", __FILE__, __LINE__, __FUNCTION__, msg); abort();}
 #define segfault_me char **blablabla = NULL; *blablabla = "test";
