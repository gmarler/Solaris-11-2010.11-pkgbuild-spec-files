--- ConsoleKit-0.2.9/src/ck-sysdeps-solaris.c.orig	2008-02-22 16:37:01.903027000 +0800
+++ ConsoleKit-0.2.9/src/ck-sysdeps-solaris.c	2008-02-22 17:01:26.870893000 +0800
@@ -177,8 +177,11 @@
 
         snprintf (P->tty_text, sizeof P->tty_text, "%3d,%-3d", tty_maj, tty_min);
 
+	if (tty_maj == 15) {
+		snprintf (P->tty_text, sizeof P->tty_text, "/dev/vt/%u", tty_min);
+        }
         if (tty_maj == 24) {
-                snprintf (P->tty_text, sizeof P->tty_text, "pts/%-3u", tty_min);
+                snprintf (P->tty_text, sizeof P->tty_text, "/dev/pts/%u", tty_min);
         }
 
         if (P->tty == NO_TTY_VALUE) {
@@ -186,7 +189,7 @@
         }
 
         if (P->tty == DEV_ENCODE(0,0)) {
-                memcpy (P->tty_text, "console", 8);
+                memcpy (P->tty_text, "/dev/console", 12);
         }
 
         if (P->pid != pid) {
@@ -399,7 +402,10 @@
 {
         char *device;
 
-        device = g_strdup_printf ("/dev/vt/%u", num);
+        if (num == 1)
+                device = g_strdup_printf ("/dev/console", num);
+        else
+                device = g_strdup_printf ("/dev/vt/%u", num);
 
         return device;
 }
@@ -418,7 +424,9 @@
                 return FALSE;
         }
 
-        if (sscanf (device, "/dev/vt/%u", &n) == 1) {
+        if (strcmp (device, "/dev/console") == 0) {
+                *num = 1;
+        } else if (sscanf (device, "/dev/vt/%u", &n) == 1) {
                 ret = TRUE;
         }
 
